{
    "slug":  "dynamic-sky-system",
    "title":  "Dynamic Sky",
    "year":  2025,
    "role":  "Gameplay/Systems (UE5)",
    "duration":  "1 week",
    "tags":  [
                 "Unreal",
                 "C++",
                 "Niagara"
             ],
    "youtubeId":  "CU8WZYpBGns",
    "videoSrc":  "/media/10ssky.mp4",
    "poster":  "",
    "summary":  "A modular UE5 Dynamic Sky system featuring real-time day-night cycles with sun and moon control, built as a reusable Sky Blueprint with exposed parameters. The system includes star visibility control and both 2D and volumetric cloud setups.",
    "descriptionLong":  "The development goal is to design the Sky Blueprint to be modular and reusable, enabling seamless integration into any scene by simply dragging the actor into the level. I created a Sky Blueprint containing key components such as Directional Light, Sky Atmosphere, Skylight (enabled real time capture), Exponential Height Fog, and Post-Process Volume to establish foundational lighting. I also configured a global Post-Process Volume to disable auto exposure, ensuring consistent lighting for both day and night scenes.",
    "sections":  [
                     {
                         "id":  "introduction",
                         "title":  "Introduction",
                         "text":  "The development goal is to design the Sky Blueprint to be modular and reusable, enabling seamless integration into any scene by simply dragging the actor into the level. I created a Sky Blueprint containing key components such as Directional Light, Sky Atmosphere, Skylight (enabled real time capture), Exponential Height Fog, and Post-Process Volume to establish foundational lighting. I also configured a global Post-Process Volume to disable auto exposure, ensuring consistent lighting for both day and night scenes.",
                         "layout":  "grid",
                         "dataSection":  "project-detail-dynamic-sky-intro-gallery",
                         "images":  [
                                        {
                                            "src":  "/media/projects/dynamic-sky/bpfull.png",
                                            "alt":  "Sky blueprint full components"
                                        },
                                        {
                                            "src":  "/media/projects/dynamic-sky/overall event graph.png",
                                            "alt":  "Sky system overall event graph"
                                        }
                                    ]
                     },
                     {
                         "id":  "day-night",
                         "title":  "Day and night cycle",
                         "text":  "Integrated both the Construction Script and Event Graph into the Sky Blueprint to enable dynamic updates and adjustable properties during pre-runtime and runtime. Imported building assets and built an environment map with UE built-in water custom body to evaluate the sky system components. Added variables like Time of Day, Dawn Time, and Dusk Time, all exposed to the details panel for further adjusting. Used a remapping function (Map Range Unclamped) to control sun rotation based on Time of Day, defining key positions for sunrise, noon, and sunset.",
                         "layout":  "stack",
                         "dataSection":  "project-detail-dynamic-sky-day-night-gallery",
                         "images":  [
                                        {
                                            "src":  "/media/projects/dynamic-sky/rotation-illustration.png",
                                            "alt":  "Diagram illustrating the changes in Moon and Sun rotation angles (from Udemy UE weather system course slides)",
                                            "thumbFit":  "contain",
                                            "thumbSize":  "narrow",
                                            "thumbRatio":  "auto"
                                        }
                                    ]
                     },
                     {
                         "id":  "day-night-pair",
                         "layout":  "grid",
                         "dataSection":  "project-detail-dynamic-sky-day-night-pair",
                         "images":  [
                                        {
                                            "src":  "/media/projects/dynamic-sky/handle-visibility.png",
                                            "alt":  "Handle Visibility function"
                                        },
                                        {
                                            "src":  "/media/projects/dynamic-sky/moon-sun-bp-func.png",
                                            "alt":  "Moon and Sun rotation BP function"
                                        }
                                    ],
                         "afterText":  "Integrated Blueprint Macros into the Handle Visibility function and designed a <a href=\"https://photos.app.goo.gl/mWAxUC3dzMdJ8VNj9\" target=\"_blank\" rel=\"noreferrer\">Handle Night Settings</a> function to control key properties such as <strong>directional light intensity, temperature, Rayleigh Scattering, Multi Scattering, and Ground Albedo</strong>. These adjustments ensured a balanced sky tint and brightness, creating a realistic nighttime atmosphere. These features all contributed to smooth and natural transitions between day and night cycles.",
                         "afterText2":  "<p>My special modifications to make the day-night transition more realistic—for example, the moon becomes faintly visible at dusk, along with the setting sun:</p><p>For <a href=\"https://photos.app.goo.gl/mWAxUC3dzMdJ8VNj9\" target=\"_blank\" rel=\"noreferrer\">Handle Night Settings</a> function, I added a moon texture, controlled through dynamic material parameters for size, rotation, brightness, and tint. Integrated logic to toggle moon visibility based on day-night cycles, like the star system. Improved sun and moon positioning by introducing a yaw rotation variable, allowing flexible adjustment of their positions in the sky. All key parameters, including moon scale, brightness, and tint, were exposed in the blueprint for real-time customization, enabling diverse lighting scenarios and enhancing the overall day-night cycle with user-friendly controls. Repeated this process to set up a sun texture.</p><p>Enhanced the dynamic sky system by integrating star visibility control tied to the time of day. Introduced a scalar parameter, \"Is Star Visible,\" within the material graph using an if node for toggling star visibility. Developed a Dynamic Material Instance (DMI) in the blueprint to communicate with the material, enabling real-time adjustments. Key steps included:</p><div class=\"detail-list\"><span class=\"detail-list-line\"><span class=\"detail-list-num\">1.</span>Material Enhancements: Added the star texture and included parameters for tiling, panning speed, and brightness. Designed a noise-based mask to break up tiling patterns and achieve a more natural appearance.</span><span class=\"detail-list-line\"><span class=\"detail-list-num\">2.</span>Blueprint Integration: Created a new function called InitSkyShpereMaterial to initialize the material instance and link it to the sky sphere. Added logic in the Handle Night Settings function to toggle the stars based on a boolean variable (\"Show Stars\") exposed in the details panel.</span><span class=\"detail-list-line\"><span class=\"detail-list-num\">3.</span>Time of Day Synchronization: Automatically hide stars during daytime and ensured seamless transitions between day and night by dynamically adjusting the scalar parameter.</span></div><p>The implementations allowed for intuitive toggling of stars and improved overall visual fidelity by addressing both the behavior of stars and their appearance on the horizon.</p>",
                         "youtubeId":  "lHg5CfJwjBM",
                         "videoCaption":  "Enhanced Day-Night Cycle Showcase"
                     },
                     {
                         "id":  "cloud-systems",
                         "title":  "Cloud Systems: 2D and Volumetric Clouds",
                         "text":  "<p>Implemented a robust 2D cloud system within the dynamic sky setup, using a Blueprint enumeration (E_CloudMode) to seamlessly switch between cloud modes. Created the 2D cloud material with configurable parameters for tiling, panning speed, brightness, and tint, enabling real-time customization through the material instance. These following improvements were achieved with simple shader math, adding robustness and visual clarity to the cloud system:</p><div class=\"detail-list\"><span class=\"detail-list-line\"><span class=\"detail-list-num\">1.</span>Achieved dynamic cloud movement using a Panner node with subtle animations for a realistic effect. Organized all parameters into 2D Clouds category for improved clarity.</span><span class=\"detail-list-line\"><span class=\"detail-list-num\">2.</span>Solved horizon and seam issues through shader adjustments ( Reused the existing star mask as a global control to eliminate clouds above the horizon, providing customizable control via the material instance. Utilized the UV mapping of the sky sphere to create a precise mask that removes clouds at the top of the sphere, ensuring a seamless appearance. )</span><span class=\"detail-list-line\"><span class=\"detail-list-num\">3.</span>Implemented dynamic tinting for 2D clouds using Sky Atmosphere View Luminance, allowed them to blend naturally with the sky's color. Introduced a Tint Strength parameter for the Sky Atmosphere, enabling customizable blending that automatically adjusts for day and night.</span><span class=\"detail-list-line\"><span class=\"detail-list-num\">4.</span>Polished the 2D cloud system by adding Blueprint logic to control visibility, panning speed, brightness, and tint strength based on the selected mode. Also used macros to manage parameters more efficiently and exposed key settings for real-time adjustments.</span></div><p><a href=\"#\" target=\"_blank\" rel=\"noreferrer\">2D Cloud Material Graph</a></p>"
                     }
                 ],
    "links":  {
                  "demo":  "",
                  "github":  ""
              }
}
